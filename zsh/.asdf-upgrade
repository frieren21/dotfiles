#!zsh

if ! (( ${+functions[asdf]} )); then
    source "${ZINIT[PLUGINS_DIR]}/asdf/lib/asdf.sh"
fi

local -A versions=($(<${ASDF_DEFAULT_TOOL_VERSIONS_FILENAME}))
local -a plugins=(${(k)versions} $(asdf plugin list))
local plugin

for plugin (${plugins}); do
    .asdf-install ${plugin} ${1:-${versions[plugin]:-latest}}
done
